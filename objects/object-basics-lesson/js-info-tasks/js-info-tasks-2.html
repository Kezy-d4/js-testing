<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS-Info-ArrMethod-Tasks</title>
  </head>

<body>
  <script>
    // Translate border-left-width to borderLeftWidth
    function camelize(str) {
      
      function capitalize(str) {
        return str.at(0).toUpperCase() +
        str.substring(1).toLowerCase();
      }

      let arr = str.split('-');
      
      let filtered = arr.filter((item) => {
        return item.length > 0;
      });

      let mapped = filtered.map(item => capitalize(item));

      let final = mapped.join('');

      let camelString = final.at(0).toLowerCase() +
      final.substring(1);

      return camelString;
    }

    /* with chaining

    function camelize(str) {
      return str
        .split('-') // splits 'my-long-word' into array ['my', 'long', 'word']
        .map(
          // capitalizes first letters of all array items except the first one
          // converts ['my', 'long', 'word'] into ['my', 'Long', 'Word']
          (word, index) => index == 0 ? word : word[0].toUpperCase() + word.slice(1)
        )
        .join(''); // joins ['my', 'Long', 'Word'] into 'myLongWord'
    }

    */

    // Filter range
    function filterRange(arr, a, b) {

      return arr.filter(item => (item >= a && item <= b));
    }

    // Filter range "in place"
    function filterRangeInPlace(arr, a, b) {

      arr.forEach((item, index, array) => {
        if (!(item >= a && item <= b)) {
          array.splice(index, 1);
        }
      });
    }

    // Sort in decreasing order
    function sortInDecreasingOrder(arr) {

      arr = [5, 2, 1, -10, 8];

      arr.sort().reverse(); // arr.sort((a, b) => b - a);
    }

    // Copy and sort array
    function copySorted(arr) {

      return arr.slice().sort();
    }

    // Map to names
    /*
    let john = { name: "John", age: 25 };
    let pete = { name: "Pete", age: 30 };
    let mary = { name: "Mary", age: 28 };

    let users = [ john, pete, mary ];

    let names = users.map(item => item.name);
    */

    // Map to objects
    /*
    let john = { name: "John", surname: "Smith", id: 1 };
    let pete = { name: "Pete", surname: "Hunt", id: 2 };
    let mary = { name: "Mary", surname: "Key", id: 3 };

    let users = [ john, pete, mary ];

    let usersMapped = users.map((user) => {
      let fullName = `${user.name} ${user.surname}`;

      delete user.name;
      delete user.surname;

      user['fullname'] = fullName;

      return user;
    });
    */

    // Sort users by age
    /*
    function sortByAge(users) {

      users.sort((a, b) => {
        if (a.age < b.age) {
          return -1;

        } else if (a.age > b.age) {
          return 1;

        } else {
          return 0;
        }
      });
      // arr.sort((a, b) => a.age - b.age);
    }

    let john = { name: "John", age: 25 };
    let pete = { name: "Pete", age: 30 };
    let mary = { name: "Mary", age: 28 };

    let arr = [ pete, john, mary ];

    sortByAge(arr); // [john, mary, pete]
    */

    // Shuffle an array

    // Get average age
    /*
    function getAverageAge(arr) {

      let sumOfAges = 0;

      for (const user of users) {
        sumOfAges += user.age;
      }

      return sumOfAges / arr.length;
    }

    // return users.reduce((prev, user) => prev + user.age, 0) / users.length;
    */

    // Filter unique array members
    /*
    function getUniqueElements(array) {

      let uniqueElementsArray = [];

      for (const element of array) {
        if (!uniqueElementsArray.includes(element)) {
          uniqueElementsArray.push(element);
        }
      }

      return uniqueElementsArray;

    }

    let strings = ["Hare", "Krishna", "Hare", "Krishna",
    "Krishna", "Krishna", "Hare", "Hare", ":-O"
    ];

    console.log(getUniqueElements(strings)); // Hare, Krishna, :-O
    */

    // Create keyed object from array
    /*
    let newObj = {};

    let users = [
      {id: 'john', name: "John Smith", age: 20},
      {id: 'ann', name: "Ann Smith", age: 24},
      {id: 'pete', name: "Pete Peterson", age: 31},
    ];

    newObj['id:'] = users[0].id;
    newObj['id2:'] = users[1].id;
    newObj['id3:'] = users[2].id;
    
    console.log(newObj);
    */
    
    function groupById(arr) {
      let allUsersObject = {};

      arr.reduce((prev, current) => {
        allUsersObject[current.id] = current;
        // console.log(allUsersObject);
      }, allUsersObject);

      return allUsersObject;
    }

    let users = [
      {id: 'john', name: "John Smith", age: 20},
      {id: 'ann', name: "Ann Smith", age: 24},
      {id: 'pete', name: "Pete Peterson", age: 31},
    ];

    // allUsersObject[users[0].id] = users[0];
    // allUsersObject[users[1].id] = users[1];
    // allUsersObject[users[2].id] = users[2];
    // console.log(allUsersObject);

    console.log(users);
    let usersById = groupById(users);
    console.log(usersById);
    
    
  </script>
</body>

</html>